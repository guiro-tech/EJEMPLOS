<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>El G√ºiro Tech | Creamos tu soluci√≥n digital</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet" />
  <style>
    /* ===== RESET ===== */
    *{margin:0;padding:0;box-sizing:border-box}
    :root{
      --maxw:1200px;
      --card-shadow:0 6px 22px rgba(0,0,0,.08);
      --radius:18px;
      --e1: cubic-bezier(.22,1,.36,1); /* easeOutExpo-ish */
      --e2: ease;
      --dur-in: .45s;
      --dur-out: .28s;
      --stagger: 60ms;
    }
    body{font-family:'Inter',sans-serif;color:#111}

    /* Bloqueo de scroll cuando men√∫ est√° abierto */
    body.noscroll{overflow:hidden}

    /* ===== HEADER & NAV ===== */
    header{
      padding:20px 40px;
      display:flex;justify-content:space-between;align-items:center;
      position:relative;z-index:25;max-width:var(--maxw);margin:0 auto;
    }
    .logo{font-weight:700;font-size:1.5rem;cursor:pointer}
    nav a{margin-left:24px;font-weight:500;color:#000;text-decoration:none;transition:color .2s var(--e2)}
    nav a:hover{color:#555}
    nav a.active{font-weight:700;color:#000}

    /* Estado visual cuando el mega-men√∫ est√° abierto */
    header.nav-blur nav a{color:#888}
    header.nav-blur nav a#productos-btn{color:#000;font-weight:700}

    /* ===== MEGA-MEN√ö ===== */
    .dropdown{
      position:absolute;top:100%;left:0;width:100%;
      background:#fff;padding:40px 100px 64px;
      display:flex;flex-direction:column;gap:14px;
      opacity:0;transform:translateY(-12px);
      visibility:hidden;pointer-events:none;
      transition:opacity .25s var(--e2),transform .25s var(--e2);
      box-shadow:0 2px 15px rgba(0,0,0,.08);
      z-index:30;
    }
    .dropdown.show{opacity:1;transform:translateY(0);visibility:visible;pointer-events:auto}
    .dropdown a{font-size:1.15rem;color:#111;text-decoration:none}
    .dropdown::after{
      content:"";position:absolute;left:0;right:0;bottom:0;height:16px;
      background:linear-gradient(to bottom,rgba(0,0,0,.08),rgba(0,0,0,0));
      pointer-events:none;
    }

    /* ===== CAPA DE BLUR ===== */
    .page-blur{
      position:fixed;inset:0;backdrop-filter:none;background:transparent;
      opacity:0;pointer-events:none;transition:backdrop-filter .3s var(--e2),opacity .3s var(--e2);
      z-index:10;
    }
    .page-blur.show{backdrop-filter:blur(6px);background:rgba(255,255,255,.25);opacity:1;pointer-events:auto}

    /* ===== HERO ===== */
    .hero{
      position:relative;text-align:center;padding:120px 5px;border-radius:20px;overflow:hidden;
      max-width:1300px;margin:0 auto;
      opacity:1;transform:none;
    }
    .hero h2{color:#fff;margin-bottom:20px;font-size:1.1rem}
    .hero h1{color:#fff;font-size:3.5rem;font-weight:700;line-height:1.2;max-width:820px;margin:0 auto 34px}

    .buttons{display:flex;justify-content:center;gap:22px;flex-wrap:wrap}
    .buttons a{padding:15px 32px;font-size:1rem;border-radius:50px;border:2px solid #000;font-weight:600;text-decoration:none;transition:transform .2s var(--e2),background .25s var(--e2)}
    .btn-black{background:#000;color:#fff}
    .btn-black:hover{background:#333;transform:translateY(-1px)}
    .btn-white,.btn-white:visited,.btn-white:focus{background:#fff;color:#000;border-color:#fff}
    .btn-white:hover{background:#e5e5e5;color:#000;border-color:#e5e5e5;transform:translateY(-1px)}

    a, a:visited, a:active, a:focus{color:inherit;text-decoration:none;outline:none}
    .btn-black,.btn-black:visited,.btn-black:focus{color:#fff}

    /* ===== FONDO GIF + CAPA OSCURA ===== */
    .hero::before,.hero::after{content:"";position:absolute;inset:0;z-index:-2}
    .hero::before{background:url("Imagenes/2D_3D_.gif") center/cover no-repeat}
    .hero::after{background:rgba(0,0,0,.55);z-index:-1}

    /* ===== SECCIONES ===== */
    .section{display:none;opacity:0;transform:translateY(10px);padding:64px 20px}
    /* FIX: mantener visibles tras animaci√≥n */
    .section.is-open{display:block;opacity:1;transform:none}
    .container{max-width:var(--maxw);margin:0 auto}
    .section h2{font-size:2.2rem;margin-bottom:16px}
    .section p.lead{font-size:1.05rem;line-height:1.65;color:#333;margin-bottom:28px}

    /* Tarjetas */
    .grid{display:grid;gap:18px}
    .grid.cols-3{grid-template-columns:repeat(3,1fr)}
    .grid.cols-2{grid-template-columns:repeat(2,1fr)}
    .card{background:#fff;border-radius:var(--radius);padding:22px;box-shadow:var(--card-shadow)}
    .card h3{font-size:1.2rem;margin-bottom:8px}
    .card p{color:#444;line-height:1.55}

    /* Listas */
    .list{display:grid;gap:10px;margin-top:8px}
    .list li{list-style:none;padding-left:28px;position:relative}
    .list li::before{content:"‚úì";position:absolute;left:0;top:0;color:#000;font-weight:700}

    .highlight{border:2px dashed #000;border-radius:16px;padding:18px}

    /* ===== ANIMACIONES (entrada/salida y reveal) ===== */
    .anim-enter{ /* estado final al entrar */
      opacity:1 !important; transform:none !important;
      transition: opacity var(--dur-in) var(--e1), transform var(--dur-in) var(--e1);
    }
    .anim-leave{ /* estado final al salir */
      opacity:0 !important; transform:translateY(10px) scale(.98) !important;
      transition: opacity var(--dur-out) var(--e2), transform var(--dur-out) var(--e2);
    }
    .reveal{opacity:0;transform:translateY(12px)}
    .reveal.is-visible{opacity:1;transform:none;transition:opacity .6s var(--e1), transform .6s var(--e1)}
    .stagger > *{transition-delay: calc(var(--i, 0) * var(--stagger));}

    /* Pulse para resaltar tarjeta de producto al llegar desde el mega-men√∫ */
    @keyframes pulseRing{
      0%{box-shadow:0 0 0 0 rgba(0,0,0,.35)}
      100%{box-shadow:0 0 0 14px rgba(0,0,0,0)}
    }
    .pulse{animation: pulseRing 1s ease-out 2}

    /* Optimizaci√≥n de animaci√≥n */
    .hero, .section { will-change: opacity, transform; }

    /* ===== RESPONSIVE ===== */
    @media(max-width:900px){ .grid.cols-3{grid-template-columns:repeat(2,1fr)} }
    @media(max-width:600px){
      .hero h1{font-size:2.1rem}
      header{flex-direction:column;align-items:flex-start}
      nav{margin-top:10px}
      nav a{margin:6px 10px 0 0}
      .dropdown{padding:30px 24px}
      .dropdown a{font-size:1.05rem}
      .grid.cols-3,.grid.cols-2{grid-template-columns:1fr}
    }

    /* Respeta usuarios con reduced motion */
    @media (prefers-reduced-motion: reduce){
      .anim-enter,.anim-leave,.reveal.is-visible{transition:none}
    }
  </style>
</head>
<body>
  <!-- HEADER -->
  <header>
    <div class="logo" title="Volver al principal">El G√ºiro Tech</div>
    <nav>
      <a href="#" id="productos-btn" aria-expanded="false">Productos ‚ñæ</a>
      <a href="#" data-section="inicio" id="nav-inicio">Inicio</a>
      <a href="#" data-section="servicios" id="nav-servicios">Servicios</a>
      <a href="#" data-section="contacto" id="nav-contacto">Contacto</a>
    </nav>

    <!-- MEGA-MEN√ö -->
    <div id="dropdown-productos" class="dropdown" role="menu" aria-label="Productos">
      <a href="#" data-prod="hardware">Hardware</a>
      <a href="#" data-prod="pagos">Pagos</a>
      <a href="#" data-prod="clientes">Clientes</a>
      <a href="#" data-prod="personal">Personal</a>
      <a href="#" data-prod="banca">Banca</a>
      <a href="#" data-prod="desarrollador">Desarrollador</a>
      <a href="#" data-prod="todos"><strong>Todos los productos</strong></a>
    </div>
  </header>

  <!-- CAPA DE BLUR -->
  <div id="page-blur" class="page-blur"></div>

  <!-- HERO (principal intacto) -->
  <!-- üî• Arranca visible para que no quede pantalla en blanco -->
  <section class="hero reveal is-visible" id="hero">
    <h2>Desarrollo a tu medida</h2>
    <h1>Creamos sistemas y p√°ginas&nbsp;web que se venden solas</h1>
    <div class="buttons">
      <a class="btn-white" href="https://wa.me/50250113244" target="_blank" rel="noopener">Escr√≠benos</a>
      <a class="btn-black" href="https://www.facebook.com/people/El-G%C3%BCiro-Tech/61556541214972/" target="_blank" rel="noopener">Conoce&nbsp;m√°s</a>
    </div>
  </section>

  <!-- ===== SECCIONES ===== -->

  <!-- INICIO -->
  <section id="inicio" class="section">
    <div class="container">
      <h2 class="reveal">¬øPor qu√© empezar con <em>El G√ºiro Tech</em>?</h2>
      <p class="lead reveal">Aqu√≠ el cliente mira de un jal√≥n qu√© recibe: velocidad, claridad y soluciones que s√≠ dejan billete. Nada de paja.</p>

      <div class="grid cols-3 stagger">
        <div class="card reveal" style="--i:0">
          <h3>R√°pido de levantar</h3>
          <p>Plantillas base + componentes listos ‚áí tu sitio en d√≠as, no meses.</p>
          <ul class="list"><li>Landing enfocada</li><li>SEO t√©cnico</li><li>Anal√≠tica</li></ul>
        </div>
        <div class="card reveal" style="--i:1">
          <h3>Hecho para vender</h3>
          <p>Embudo claro, CTAs bien puestos y contenidos que convencen.</p>
          <ul class="list"><li>Copy probado</li><li>WhatsApp/RRSS</li><li>Anti-spam</li></ul>
        </div>
        <div class="card reveal" style="--i:2">
          <h3>Escalable</h3>
          <p>M√≥dulos plug-and-play: tienda, reservas, blogs, etc.</p>
          <ul class="list"><li>Integraciones</li><li>Admin simple</li><li>Backups</li></ul>
        </div>
      </div>

      <div style="height:24px"></div>

      <div class="highlight reveal">
        <strong>Proceso express (4 pasos):</strong>
        <div class="grid cols-2" style="margin-top:12px">
          <div class="card reveal" style="--i:0"><h3>1) Descubrimiento</h3><p>Entendemos negocio, ofertas y metas.</p></div>
          <div class="card reveal" style="--i:1"><h3>2) Dise√±o</h3><p>Wireframe + copy. Feedback y afinado.</p></div>
          <div class="card reveal" style="--i:2"><h3>3) Desarrollo</h3><p>Componentes r√°pidos y medibles.</p></div>
          <div class="card reveal" style="--i:3"><h3>4) Lanzamiento</h3><p>Deploy, anal√≠tica y SEO checklist.</p></div>
        </div>
      </div>
    </div>
  </section>

  <!-- SERVICIOS -->
  <section id="servicios" class="section">
    <div class="container">
      <h2 class="reveal">Servicios</h2>
      <p class="lead reveal">Muestrario para que el cliente elija su combo sin bolas: web, sistemas y soporte.</p>
      <div class="grid cols-3 stagger">
        <div class="card reveal" style="--i:0"><h3>Sitios Web</h3><p>Landing, corporativo, blog.</p></div>
        <div class="card reveal" style="--i:1"><h3>Sistemas a Medida</h3><p>Inventarios, RRHH, facturaci√≥n.</p></div>
        <div class="card reveal" style="--i:2"><h3>E-commerce</h3><p>Cat√°logo, pagos y pedidos.</p></div>
        <div class="card reveal" style="--i:3"><h3>Integraciones</h3><p>Pagos, bancos, WhatsApp, ERP.</p></div>
        <div class="card reveal" style="--i:4"><h3>Soporte & Mantenimiento</h3><p>Actualizaciones y seguridad.</p></div>
        <div class="card reveal" style="--i:5"><h3>Redise√±o</h3><p>Performance, UX y SEO.</p></div>
      </div>
    </div>
  </section>

  <!-- PRODUCTOS -->
  <section id="productos" class="section">
    <div class="container">
      <h2 class="reveal">Productos</h2>
      <p class="lead reveal">M√≥dulos listos para enchufar y arrancar.</p>

      <div class="grid cols-3 stagger">
        <div class="card reveal" id="prod-hardware" style="--i:0"><h3>Hardware</h3><p>POS, lectores, t√©rmicas.</p></div>
        <div class="card reveal" id="prod-pagos" style="--i:1"><h3>Pagos</h3><p>Pasarelas locales.</p></div>
        <div class="card reveal" id="prod-clientes" style="--i:2"><h3>Clientes</h3><p>CRM sencillo.</p></div>
        <div class="card reveal" id="prod-personal" style="--i:3"><h3>Personal</h3><p>RRHH y asistencia.</p></div>
        <div class="card reveal" id="prod-banca" style="--i:4"><h3>Banca</h3><p>Conciliaciones.</p></div>
        <div class="card reveal" id="prod-desarrollador" style="--i:5"><h3>Desarrollador</h3><p>APIs y webhooks.</p></div>
      </div>

      <div style="height:22px"></div>
      <div class="highlight reveal">
        ¬øQuer√©s ver <strong>todos los productos</strong> en acci√≥n?
        <a class="btn-black" style="display:inline-block;margin-left:8px;padding:10px 18px;border-radius:999px;border:2px solid #000" href="https://wa.me/50250113244" target="_blank" rel="noopener">Pedir demo</a>
      </div>
    </div>
  </section>

  <!-- CONTACTO -->
  <section id="contacto" class="section">
    <div class="container">
      <h2 class="reveal">Contacto</h2>
      <p class="lead reveal">Nada de vueltas. Escribinos y arrancamos.</p>

      <div class="grid cols-2">
        <div class="card reveal" style="--i:0">
          <h3>Hablemos</h3>
          <ul class="list">
            <li><a href="https://wa.me/50250113244" target="_blank" rel="noopener">WhatsApp: +502 5011 3244</a></li>
            <li><a href="mailto:contacto@elguirotech.com">contacto@elguirotech.com</a></li>
            <li><a href="https://www.facebook.com/people/El-G%C3%BCiro-Tech/61556541214972/" target="_blank" rel="noopener">Facebook</a></li>
          </ul>
        </div>
        <div class="card reveal" style="--i:1">
          <h3>Dejarnos tu idea</h3>
          <form onsubmit="event.preventDefault(); window.open('https://wa.me/50250113244?text=' + encodeURIComponent('Hola, tengo este proyecto: ' + document.getElementById('msg').value),'_blank');">
            <label for="msg" style="display:block;margin-bottom:8px;font-weight:600">Contanos r√°pido tu proyecto</label>
            <textarea id="msg" rows="5" style="width:100%;padding:12px;border-radius:12px;border:2px solid #000;resize:vertical" placeholder="Quiero una web para..."></textarea>
            <div style="height:12px"></div>
            <button class="btn-black" type="submit" style="padding:12px 20px;border-radius:999px;border:2px solid #000">Enviar por WhatsApp</button>
          </form>
        </div>
      </div>
    </div>
  </section>

  <script>
    /* ===== ELEMENTOS ===== */
    const btn       = document.getElementById('productos-btn');
    const dropdown  = document.getElementById('dropdown-productos');
    const blurLayer = document.getElementById('page-blur');
    const header    = document.querySelector('header');
    const hero      = document.getElementById('hero');
    const sections  = document.querySelectorAll('.section');
    const navLinks  = document.querySelectorAll('nav a[data-section]');
    const logo      = document.querySelector('.logo');

    /* ===== MEGA MEN√ö ===== */
    btn.addEventListener('mouseenter', showMenu);
    header.addEventListener('mouseleave', hideMenu);
    btn.addEventListener('click', e => { e.preventDefault(); toggleMenu(); });
    blurLayer.addEventListener('click', hideMenu);
    document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') hideMenu(); });

    function showMenu(){
      dropdown.classList.add('show'); blurLayer.classList.add('show');
      document.body.classList.add('noscroll'); header.classList.add('nav-blur');
      btn.setAttribute('aria-expanded','true');
    }
    function hideMenu(){
      dropdown.classList.remove('show'); blurLayer.classList.remove('show');
      document.body.classList.remove('noscroll'); header.classList.remove('nav-blur');
      btn.setAttribute('aria-expanded','false');
    }
    function toggleMenu(){
      const visible = dropdown.classList.toggle('show');
      blurLayer.classList.toggle('show', visible);
      document.body.classList.toggle('noscroll', visible);
      header.classList.toggle('nav-blur', visible);
      btn.setAttribute('aria-expanded', String(visible));
    }

    /* ===== REVEAL ON SCROLL ===== */
    const io = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{
        if(e.isIntersecting){ e.target.classList.add('is-visible'); io.unobserve(e.target); }
      });
    },{threshold:.12});
    document.querySelectorAll('.reveal').forEach(el=>io.observe(el));

    // Fuerza a que todo .reveal dentro de "root" aparezca visible (para cuando la secci√≥n reci√©n se muestra)
    function forceRevealInside(root){
      if(!root) return;
      root.querySelectorAll('.reveal:not(.is-visible)').forEach((el, idx)=>{
        el.style.transitionDelay = (idx * 60) + 'ms';
        el.classList.add('is-visible');
      });
    }

    // üî• Asegurar que el HERO arranque visible (por si el IO se tarda)
    forceRevealInside(hero);
    window.addEventListener('pageshow', ()=>forceRevealInside(hero)); // bfcache/back-forward

    /* ===== TRANSICIONES ENTRE VISTAS ===== */
    let isTransitioning = false;
    let currentView = 'hero'; // 'hero' o id de secci√≥n

    function animateOut(el){
      return new Promise(res=>{
        if(!el) return res();

        // HERO: manejo especial (no usa .section)
        if(el === hero){
          el.classList.add('anim-leave');
          const finish = ()=>{
            el.classList.remove('anim-leave');
            el.style.display='none';
            el.removeEventListener('transitionend', finish);
            res();
          };
          el.addEventListener('transitionend', finish, {once:true});
          setTimeout(finish, 520);
          return;
        }

        // Secci√≥n normal
        if(!el.classList.contains('is-open')) return res();
        el.classList.add('anim-leave');
        const finish = ()=>{
          el.classList.remove('anim-leave','is-open'); // FIX: mantener estado consistente
          el.removeEventListener('transitionend', finish);
          res();
        };
        el.addEventListener('transitionend', finish, {once:true});
        setTimeout(finish, 520);
      });
    }

    function animateIn(el){
      if(!el) return;
      if(el === hero){
        el.style.display='block';
        void el.offsetWidth;
        requestAnimationFrame(()=>{
          el.classList.add('anim-enter');
          const done = ()=>{
            el.classList.remove('anim-enter');
            el.removeEventListener('transitionend', done);
          };
          el.addEventListener('transitionend', done, {once:true});
          setTimeout(done, 720);
        });
        return;
      }

      // Secci√≥n normal
      el.classList.add('is-open'); // FIX: queda visible tras animaci√≥n
      void el.offsetWidth;
      requestAnimationFrame(()=>{
        el.classList.add('anim-enter');
        const done = ()=>{
          el.classList.remove('anim-enter');
          el.removeEventListener('transitionend', done);
        };
        el.addEventListener('transitionend', done, {once:true});
        setTimeout(done, 720);
      });
    }

    async function showSection(id){
      if(isTransitioning) return;
      isTransitioning = true;

      const fromEl = currentView==='hero' ? hero : document.getElementById(currentView);
      const toEl   = document.getElementById(id);
      if(!toEl){ isTransitioning=false; return; }

      await animateOut(fromEl);
      sections.forEach(s=>{ if(s!==toEl){ s.classList.remove('is-open'); } });
      animateIn(toEl);

      currentView = id;
      hideMenu();
      window.scrollTo({top:0, behavior:'smooth'});

      // asegurar reveal al entrar
      forceRevealInside(toEl);

      isTransitioning = false;
    }

    async function showHero(){
      if(isTransitioning || currentView==='hero') return;
      isTransitioning = true;

      const fromEl = document.getElementById(currentView);
      await animateOut(fromEl);
      animateIn(hero);
      currentView='hero';
      hideMenu();
      window.scrollTo({top:0, behavior:'smooth'});

      // revelar contenidos del hero
      forceRevealInside(hero);

      isTransitioning = false;
    }

    function clearActive(){ document.querySelectorAll('nav a').forEach(a=>a.classList.remove('active')); }

    /* ===== NAV ===== */
    navLinks.forEach(link=>{
      link.addEventListener('click', e=>{
        e.preventDefault();
        const sec = link.dataset.section; if(!sec) return;
        showSection(sec);
        clearActive();
        link.classList.add('active');
        document.getElementById('productos-btn').classList.remove('active');
      });
    });

    // Logo regresa al hero
    logo.addEventListener('click', ()=>{ clearActive(); showHero(); });

    /* ===== Mega-men√∫ -> abrir secci√≥n Productos y resaltar tarjeta ===== */
    dropdown.querySelectorAll('a').forEach(a=>{
      a.addEventListener('click', async e=>{
        e.preventDefault();
        const key = a.dataset.prod || 'todos';
        await showSection('productos');
        // asegurar reveal en productos cuando ven√≠s del mega-men√∫
        forceRevealInside(document.getElementById('productos'));

        clearActive();
        document.getElementById('productos-btn').classList.add('active');
        hideMenu();

        if(key && key!=='todos'){
          const card = document.getElementById('prod-'+key.toLowerCase());
          if(card){
            card.classList.add('pulse');
            card.scrollIntoView({behavior:'smooth', block:'center'});
            setTimeout(()=>card.classList.remove('pulse'), 1600);
          }
        }
      });
    });

    /* ===== Arrancar con hash (#inicio, etc.) si viene en URL ===== */
    (function bootFromHash(){
      const hash = (location.hash||'').replace('#','');
      if(!hash){ forceRevealInside(hero); return; }
      const link = document.querySelector(`nav a[data-section="${hash}"]`);
      if(link){ link.click(); }
      else { showHero(); } // si el hash no existe (ej. #portafolio), volvemos al hero visible
    })();
  </script>
</body>
</html>
